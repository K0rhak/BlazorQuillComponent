@page "/"
@using PSC.Blazor.Components.Quill

<div class="card">
	<div class="card-body">
		<h3 class="card-title">Quill with HTML</h3>
		<QuillEditor @ref="@QuillHtml">
			<ToolbarContent>
				<select class="ql-header">
					<option selected=""></option>
					<option value="1"></option>
					<option value="2"></option>
					<option value="3"></option>
					<option value="4"></option>
					<option value="5"></option>
				</select>
				<span class="ql-formats">
					<button class="ql-bold"></button>
					<button class="ql-italic"></button>
					<button class="ql-underline"></button>
					<button class="ql-strike"></button>
				</span>
				<span class="ql-formats">
					<select class="ql-color"></select>
					<select class="ql-background"></select>
				</span>
				<span class="ql-formats">
					<button class="ql-list" value="ordered"></button>
					<button class="ql-list" value="bullet"></button>
				</span>
				<span class="ql-formats">
					<button class="ql-link"></button>
				</span>
			</ToolbarContent>
			<EditorContent>
				<h4>This Toolbar works with HTML</h4>
				<a href="https://www.puresourcecode.com/">
					PureSourceCode
				</a>
			</EditorContent>
		</QuillEditor>
	</div>
	<div class="card-footer">
		<button class="btn btn-primary"
				@onclick="GetHTML">
			Get HTML
		</button>
		<div style="height: 5px; width: 100%;"></div>
		<div style="width: 100%; background-color: #dcdcdc;">
			@((MarkupString)QuillHTMLContent)
			@QuillHTMLContent
		</div>
	</div>
</div>

<div style="height: 25px; width: 100%;"></div>

<div class="card">
	<div class="card-body">
		<h3 class="card-title">Quill native</h3>
		<QuillEditor @ref="@QuillNative"
					 Placeholder="Enter non HTML format like centering...">
			<ToolbarContent>
				<span class="ql-formats">
					<select class="ql-font">
						<option selected=""></option>
						<option value="serif"></option>
						<option value="monospace"></option>
					</select>
					<select class="ql-size">
						<option value="small"></option>
						<option selected=""></option>
						<option value="large"></option>
						<option value="huge"></option>
					</select>
				</span>
				<span class="ql-formats">
					<button class="ql-bold"></button>
					<button class="ql-italic"></button>
					<button class="ql-underline"></button>
					<button class="ql-strike"></button>
				</span>
				<span class="ql-formats">
					<select class="ql-color"></select>
					<select class="ql-background"></select>
				</span>
				<span class="ql-formats">
					<button class="ql-list" value="ordered"></button>
					<button class="ql-list" value="bullet"></button>
					<button class="ql-indent" value="-1"></button>
					<button class="ql-indent" value="+1"></button>
					<select class="ql-align">
						<option selected=""></option>
						<option value="center"></option>
						<option value="right"></option>
						<option value="justify"></option>
					</select>
				</span>
				<span class="ql-formats">
					<button class="ql-link"></button>
				</span>
				<span class="ql-formats">
					<button class="ql-image"></button>
				</span>
			</ToolbarContent>
		</QuillEditor>
	</div>
	<div class="card-footer">
		<button class="btn btn-primary"
				@onclick="GetContent">
			Get Content
		</button>
		<button class="btn btn-primary"
				@onclick="LoadContent">
			Load Content
		</button>
		<div>
			@QuillContent
		</div>
	</div>
</div>

<div style="height: 25px; width: 100%;"></div>

<div class="card">
	<div class="card-body">
		<h3 class="card-title">Quill read-only</h3>
		<QuillEditor @ref="@QuillReadOnly"
					 ReadOnly="true"
					 Theme="bubble"
					 DebugLevel="log">
			<ToolbarContent>
				<select class="ql-header">
					<option selected=""></option>
					<option value="1"></option>
					<option value="2"></option>
					<option value="3"></option>
					<option value="4"></option>
					<option value="5"></option>
				</select>
				<span class="ql-formats">
					<button class="ql-bold"></button>
					<button class="ql-italic"></button>
					<button class="ql-underline"></button>
					<button class="ql-strike"></button>
				</span>
				<span class="ql-formats">
					<select class="ql-color"></select>
					<select class="ql-background"></select>
				</span>
				<span class="ql-formats">
					<button class="ql-list" value="ordered"></button>
					<button class="ql-list" value="bullet"></button>
				</span>
				<span class="ql-formats">
					<button class="ql-link"></button>
				</span>
			</ToolbarContent>
			<EditorContent>
				@((MarkupString)@QuillReadOnlyContent)
			</EditorContent>
		</QuillEditor>
	</div>
	<div class="card-footer">
		<button class="btn btn-info"
				@onclick="ToggleQuillEditor">
			Toggle Editor
		</button>
	</div>
</div>

@code {
	// Quill editor
	QuillEditor QuillHtml;
	string QuillHTMLContent;

	// use Quill native
	QuillEditor QuillNative;
	string QuillContent;

	// Quill editor read-only with the option to enable an online editor
	QuillEditor QuillReadOnly;
	string QuillReadOnlyContent = @"<span><b>Read Only</b> <u>Content</u></span>";
	bool mode = false;

	public async void GetHTML()
	{
		QuillHTMLContent = await this.QuillHtml.GetHTML();
		StateHasChanged();
	}

	public async void GetContent()
	{
		QuillContent = await this.QuillNative.GetContent();
		StateHasChanged();
	}

	public async void LoadContent()
	{
		await this.QuillNative.LoadContent(QuillContent);
		StateHasChanged();
	}

	async Task ToggleQuillEditor()
	{
		mode = !mode;
		await this.QuillReadOnly.EnableEditor(mode);
	}
}